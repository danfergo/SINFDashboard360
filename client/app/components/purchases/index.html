 
<div layout="row" layout-wrap>

<div flex="25"></div>
 <div flex="50"  layout-padding layout="column">
	<div class="md-whiteframe-2dp" layout="column" layout-padding flex="auto">
    <h3 class="md-title">Evolução das compras por categoria</h3>
		<canvas id="line" class="chart chart-line" chart-data="purchasesPerCategory"
		  chart-labels="months" chart-legend="true" chart-series="categories" >
		</canvas> 
	</div>
</div>
<div flex="25"></div>
<!--
<div flex="50"  layout-padding layout="column">
	<div class="md-whiteframe-2dp" layout="column" layout-padding flex="auto">
    <h3 class="md-title">Top devedores</h3>
		<canvas id="bar" class="chart chart-bar"
		  chart-data="data" chart-labels="labels">
		</canvas>
	</div>
</div> 
-->

<div flex="100"  layout-padding layout>
    <div class="md-whiteframe-2dp" layout="row" layout-padding flex="auto">
    	<div flex></div>
	    <div flex="none" style="line-height:50px;"> Mostrar resultados entre</div> 
	  <md-datepicker ng-model="minDate" md-placeholder="Selecionar data"
	        md-max-date="maxDate"></md-datepicker>
	     <div flex="none" style="line-height:50px;">&nbsp;&nbsp;&nbsp; e </div>
			  <md-datepicker ng-model="maxDate" md-placeholder="Selecionar data"
	        md-min-date="minDate" md-max-date="today"></md-datepicker>
    	       </md-content>

	       <div flex class="text-right" style="padding:0">
	       	<md-button 
	       		ng-click="filterResults()"
	       		class="md-raised md-primary">Pesquisar</md-button>
	       </div>
    </div>

  </div>


 <div flex="100" layout="row" layout-align="center center" ng-if="!purchases">
    <md-progress-circular md-mode="indeterminate"></md-progress-circular>
  </div>

 <div flex="100" layout="row" layout-align="center center" ng-if="purchases && purchases.length == 0">
 		<span style="font-size:28px; color:#999;padding:25px;"> Nenhuma venda encontrada para o intervalo escolhido </span>
  </div>
<!--
	<div flex="100" layout-padding layout="column" ng-repeat="sale in sales">
		<div class="md-whiteframe-2dp" layout="column" layout-padding flex="auto">
		 		{{sale}}
		</div>
	</div> -->


<div ng-repeat="purchase in purchases" flex="100">

 <md-whiteframe class="department md-whiteframe-1dp"  
 layout="row" ng-click="toggle($event)"
 layout-margin layout-padding>
 	    <div flex>{{ purchase.Data | date:'shortDate'}}</div>
 	    <div flex>{{purchase.Entidade}} </div>
 	    <div flex>{{-1*purchase.TotalMerc | currency:'€':2}}</div>
  </md-whiteframe> 

  <md-whiteframe class="md-whiteframe-15dp" 
 layout="column"
 layout-margin layout-padding>
	 
	<md-list>
	  <md-list-item class="md-2-line" ng-repeat="line in purchase.LinhasDoc">
	    <div class="md-list-item-text" layout="row">

	      <div flex>{{line.CodArtigo}}</div>
	      <div flex>{{line.DescArtigo}}</div>
	      <div flex>{{-1*line.Quantidade}} {{line.Unidade}} x {{-1*line.PrecoUnitario | currency:'€':2}}</div>
	      <div flex="15">{{-1*line.TotalILiquido | currency:'€':2}}</div>

	    </div>	  	


	    <md-divider ng-if="!$last"></md-divider>
	  </md-list-item>
	</md-list>

 </md-whiteframe>

</div>



</div>






